 WEB SERVİS ARAYÜZ DÖKÜMANI Döküman No : İş Net E-Arşiv Web Servis Arayüz Dokümanı Yayın Tarihi : 12.08.2024 Revizyon No : V2 Revizyon Tarihi : 1059188 318001 GİRİŞ 5 Amaç ve Kapsam 5 1057682 447743 1057682 691583 1057682 935423 1057682 1179263 1057682 1421579 SERVİSLER 5 SendArchiveInvoice 5 SendArchiveInvoiceXml 6 SendArchiveInvoiceXmlWithoutInvoiceNumber 7 SearchArchiveInvoice 8 CancelArchiveInvoice 10 SendArchiveInvoiceReport 11 SearchArchiveInvoiceReport 11 SendArchiveInvoiceMail 12 GetDocumentViewerLink 13 1057682 -846898 1057682 -603058 1057682 -359218 1057682 -115378 1059188 446977 1059188 690817 1059188 934657 1059188 1176973 1059188 1420813 ORTAK TİPLER 14 İhraç Kayıtlı Faturalar 14 Özel Matrah Faturalar 14 ArchiveInvoice 15 ArchiveInvoiceXml 17 ArchiveInvoiceReturn 17 ArchiveInvoiceCancellation 17 Product 18 ArchiveInvoiceDetail 18 SendingType 19 1059188 -845759 1059188 -601919 1059188 -358079 1059188 -115763 PaginationInfoRequest 19 InvoiceDocumentType 20 InvoiceType 20 InvoiceResultSet 21 InvoiceAttachment 21 AddressBookEntry 21 Dispatch 22 RecipientType 22 Address 22 DocumentReference 23 ResultType 23 InvoiceExpense 23 ExpenseType 24 PaginationInfoResponse 24 Tax 25 Payment 25 Account 25 PaymentChannel 25 WebSellingInfo 26 PaymentType 26 Carrier 26 ArchiveInvoiceStatus 27 ArchiveInvoiceApprovalStatus 27 ArchiveInvoiceSendingStatus 27 ArchiveInvoiceReportSendingStatus 28 CanceledArchiveInvoiceReportSendingStatus 28 ArchiveInvoiceReport 28 ArchiveInvoiceReportStatus 29 DÖKÜMAN KONTROL Hazırlayan Görevi Tarih İmza N*** B*** e-Dönüşüm Uygulamaları Yazılım Geliştirici 12.08.2024 DEĞİŞİKLİK TARİHÇESİ Versiyon No Versiyon Tarihi Hazırlayan/Güncelleyen Değişiklik Açıklaması 2.0 12.08.2024 N*** B*** İlk yayın. ÖNEMLİ NOT! Değerli müşterimiz, Bu dökümanda belirtilen servisler birer SOAP servis olduklarından gönderim aşamasında kullanılan tagların alfabetik sıralamaya göre uygun şekilde gönderilmesi gerekmektedir. Aksi durumda sıralamaya uymayan tag içinde göndermiş olduğunuz veri okunamayacaktır. Canlı ortam IP tanımlarınızın yapılabilmesi için; test ortamlarımız ile kurduğunuz entegrasyonlar üzerinden gönderdiğiniz requestlere istinaden oluşacak faturaların, hem sistemlerimiz üzerinde yer alan şematron kontrollerinden hem de GİB tarafındaki kontrollerden başarıyla geçerek, &quot;Başarıyla Tamamlandı&quot; durumunda olması gerekmektedir. Bu aşamayı, başarılı olarak geçtikten sonra canlı ortam tanımınız yapılabilecektir. Çalışmalarınız bittiğinde test ortamında süreçleri başarıyla tamamlanmış fatura bilgilerini iletmenizi rica ederiz. Test aşamasında gönderilen faturaların durumunu öğrenmek için search methodlarını kullanabilirsiniz. GİRİŞ Amaç ve Kapsam Bu döküman E-Arşiv Projesi kapsamında özel entegratörlük yapan İş Net ile diğer firmalar arasında web servis üzerinden entegrasyonu detaylandırmaktadır. SERVİSLER SendArchiveInvoice Arşiv fatura gönderme işlemini gerçekleştiren operasyondur. Tablo 1 SendArchiveInvoice Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar CompanyTaxCode string Zorunlu Adına işlem yapılan firma VKN CompanyVendorNumber string Opsiyonel Adına işlem yapılan bayi numarası ArchiveInvoices List&lt;ArchiveInvoice&gt; Zorunlu Gönderilmek istenen faturaların listesi Tablo 2 SendArchiveInvoiceResponse Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Result ResultType Zorunlu Başarılı/Başarısız yanıt ErrorMessage string Opsiyonel Yanıt başarısızsa, hata mesajını içerir ArchiveInvoices List&lt;ArchiveInvoice Return&gt; Zorunlu Faturaların gönderilme işlemi sonucu dönen yanıtların listesi SendArchiveInvoiceXml UBL-TR formatında fatura gönderimi gerçekleştiren bu operasyon, fatura numaranızın XML içindeki ID etiketiyle oluşturulmasını sağlar. Fatura numarasının benzersiz olması gerektiğinden, aynı numarayla tekrar kayıt yapılamayacaktır. Bu nedenle, fatura numaranızın benzersiz olduğundan emin olmanız önemlidir. Tek seferde en az 1, en fazla 100 fatura gönderilebilir. SendArchiveInvoiceXml metodunda xml’in başarılı imzalanabilmesi için; &lt;ext:UBLExtensions&gt; &lt;ext:UBLExtension&gt; &lt;ext:ExtensionContent/&gt; &lt;/ext:UBLExtension&gt; &lt;/ext:UBLExtensions&gt; Şeklinde gönderilmesi ve Signature tagı doldurulmuş olarak gönderilmesi gerekir. Tablo 3 SendArchiveInvoiceXmlRequest Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar ArchiveInvoices List&lt;ArchiveInvoiceXml&gt; Zorunlu Gönderilmek istenen faturaların listesi Tablo 4 SendArchiveInvoiceXmlResponse Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Result ResultType Zorunlu Başarılı/Başarısız yanıt ErrorMessage string Opsiyonel Yanıt başarısızsa, hata mesajını içerir ArchiveInvoices List&lt;ArchiveInvoice Return&gt; Zorunlu Faturaların gönderilme işlemi sonucu dönen yanıtların listesi SendArchiveInvoiceXmlWithoutInvoiceNumber UBL-TR formatında fatura gönderimi gerçekleştiren bu operasyon, fatura numarası ve ETTN belirleme sürecini otomatik olarak yönetir. Tek seferde en az 1, en fazla 100 fatura gönderilebilir. SendArchiveInvoiceXmlWithoutInvoiceNumber metodunda xml’in başarılı imzalanabilmesi için; &lt;ext:UBLExtensions&gt; &lt;ext:UBLExtension&gt; &lt;ext:ExtensionContent/&gt; &lt;/ext:UBLExtension&gt; &lt;/ext:UBLExtensions&gt; Şeklinde gönderilmesi ve Signature tagı doldurulmuş olarak gönderilmesi gerekir. Tablo 5 SendArchiveInvoiceXmlWithoutInvoiceNumberRequest Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar CompanyVendorNumber string Opsiyonel Adına işlem yapılan bayi numarası ArchiveInvoices List&lt;ArchiveInvoiceXml&gt; Zorunlu Gönderilmek istenen faturaların listesi Tablo 6 SendArchiveInvoiceXmlWithoutInvoiceNumberResponse Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Result ResultType Zorunlu Başarılı/Başarısız yanıt ErrorMessage string Opsiyonel Yanıt başarısızsa, hata mesajını içerir ArchiveInvoices List&lt;ArchiveInvoice Return&gt; Zorunlu Faturaların gönderilme işlemi sonucu dönen yanıtların listesi SearchArchiveInvoice Arşiv fatura sorgulama işlemini gerçekleştiren operasyondur. Tablo 7 SearchArchiveInvoiceRequest Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar CompanyTaxCode string Zorunlu Adına işlem yapılan firma VKN CompanyVendorNumber string Opsiyonel Adına işlem yapılan bayi numarası ExternalArchive InvoiceCode string Opsiyonel Kaynak sistem fatura kodu MinInvoiceDate DateTime? Opsiyonel Minimun fatura tarihi MaxInvoiceDate DateTime? Opsiyonel Maximum fatura tarihi InvoiceType InvoiceType? Opsiyonel Fatura Tipi OrderNumber string Opsiyonel Fatura sipariş numarası MinOrderDate DateTime? Opsiyonel Minimum sipariş tarihi MaxOrderDate DateTime? Opsiyonel Maximum sipariş tarihi ReceiverTaxCode string Opsiyonel Alıcı vkn MinTotalPayableAmount decimal? Opsiyonel Minimum ödeme tutarı MaxTotalPayableAmount decimal? Opsiyonel Maximum ödeme tutarı InvoiceResultSet ResultSet Zorunlu Aranan faturanın detay içerip içermeyeceğini ve ek vergi içerip içermeyeceğini belirleyen parametre MinInvoiceNumber string Opsiyonel Minimum fatura numarası MaxInvoiceNumber string Opsiyonel Maximum fatura numarası Ettn string Opsiyonel Ettn bilgisi IncludeStatusList List&lt;ArchiveInvoiceStatus&gt; Opsiyonel Fatura durumu ExcludeStatusList List&lt;ArchiveInvoiceStatus&gt; Opsiyonel Fatura durumu IncludeApproval StatusList List&lt;ArchiveInvoice ApprovalStatus&gt; Opsiyonel Fatura onay durumu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar ExcludeApprovalStatusList List&lt;ArchiveInvoice ApprovalStatus&gt; Opsiyonel Fatura onay durumu IncludeSendingStatusList List&lt;ArchiveInvoice SendingStatus&gt; Opsiyonel Fatura gönderim durumu ExcludeSendingStatusList List&lt;ArchiveInvoice SendingStatus&gt; Opsiyonel Fatura gönderim durumu IncludeReport SendingStatusList List&lt;ArchiveInvoice ReportSendingStatus&gt; Opsiyonel Arşiv rapor gönderim durumu ExcludeReport SendingStatusList List&lt;ArchiveInvoice ReportSendingStatus&gt; Opsiyonel Arşiv rapor gönderim durumu IncludeCancellation ReportSendingStatusList List&lt;CanceledArchiveInvoice ReportSendingStatus&gt; Opsiyonel Arşiv iptal rapor gönderim durumu ExcludeCancellation ReportSendingStatusList List&lt;CanceledArchiveInvoice ReportSendingStatus&gt; Opsiyonel Arşiv iptal rapor gönderimi CurrencyCode string Opsiyonel Fatura seviyesindeki para birimi MinInvoiceCreationDate DateTime? Opsiyonel Fatura yaratılma tarihi (başlangıç) MaxInvoiceCreationDate DateTime? Opsiyonel Fatura yaratılma tarihi (bitiş) ReceiverName string MinLastPaymentDate DateTime? Opsiyonel Fatura son ödeme tarihi (başlangıç) MaxLastPaymentDate DateTime? Opsiyonel Fatura son ödeme tarihi (bitiş) MinPaymentDate DateTime? Opsiyonel Fatura tarihi (başlangıç) MaxPaymentDate DateTime? Opsiyonel Fatura tarihi (bitiş) PagingRequest PaginationInfoRequest Opsiyonel Ön yüz için sayfalama bilgisi isteği IsInvoicePaid bool? Opsiyonel Fatura ödendi/ödenmedi MinApprovalDate DateTime? Opsiyonel Onaylama tarihi(Başlangıç) MaxApprovalDate DateTime? Opsiyonel Onaylama tarihi(Bitiş) IsCancelled bool? Opsiyonel Arşiv fatura iptal mi? SendingType SendingType? Opsiyonel Gönderim şekli Tablo 8 SearchArchiveInvoiceResponse Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Result ResultType Zorunlu Başarılı/Başarısız yanıt ErrorMessage string Opsiyonel Yanıt başarısızsa, hata mesajını içerir ArchiveInvoices List&lt;ArchiveInvoice&gt; Zorunlu Faturaların gönderilme işlemi sonucu dönen yanıtların listesi PagingResponse PaginationInfoResponse Opsiyonel Ön yüz için sayfalama bilgisi CancelArchiveInvoice Arşiv fatura iptal etme işlemini gerçekleştiren operasyondur. Tablo 9 CancelArchiveInvoiceRequest Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar CompanyTaxCode string Zorunlu Adına işlem yapılan firma VKN CompanyVendorNumber string Opsiyonel Adına işlem yapılan bayi numarası ArchiveInvoiceList List&lt;ArchiveInvoice Cancellation&gt; Zorunlu Gönderilmek istenen faturaların listesi Tablo 10 CancelArchiveInvoiceResponse Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Result ResultType Zorunlu Başarılı/Başarısız yanıt ErrorMessage string Opsiyonel Yanıt başarısızsa, hata mesajını içerir SendArchiveInvoiceReport Arşiv faturalarının GİB’na, raporlanmasında kullanılan servis methodudur. Tablo 11 SendArchiveInvoiceReportRequest Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar CompanyTaxCode string Zorunlu Adına işlem yapılan firma VKN CompanyVendorNumber string Opsiyonel Adına işlem yapılan bayi numarası LastDate DateTime Zorunlu Hangi tarihe kadar. Tablo 12 SendArchiveInvoiceReportResponse Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Result ResultType Zorunlu Başarılı/Başarısız yanıt ErrorMessage string Opsiyonel Yanıt başarısızsa, hata mesajını içerir ArchiveInvoiceReportGroupNumber string Zorunlu Grup Numarası SearchArchiveInvoiceReport Gece 00.00’da faturalar otomatik raporlanır. Gün içinde isteğe bağlı raporlama için kullanabilirsiniz. Tablo 13 SearchArchiveInvoiceReportRequest Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar CompanyTaxCode string Zorunlu Adına işlem yapılan firma VKN CompanyVendorNumber string Opsiyonel Adına işlem yapılan bayi numarası ArchiveInvoiceReportGroupNumber string Opsiyonel Arşiv grup rapor numarası ArchiveInvoiceReportNumber string Zorunlu Arşiv rapor numarası Tablo 14 SearchArchiveInvoiceReportResponse Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Result ResultType Zorunlu Başarılı/Başarısız yanıt ErrorMessage string Opsiyonel Yanıt başarısızsa, hata mesajını içerir ArchiveInvoiceReportList List&lt; ArchiveInvoiceReport &gt; Zorunlu Raporlama işleminin durumu SendArchiveInvoiceMail Arşiv fatura gönderme işlemini gerçekleştiren operasyondur. Tablo 15 SendArchiveInvoiceMailRequest Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar CompanyTaxCode string Zorunlu Adına işlem yapılan firma VKN ETTN string Zorunlu ETTN bilgisi Email string Zorunlu Alıcının mail adresi Tablo 16 SendArchiveInvoiceMailResponse Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Result ResultType Zorunlu Başarılı/Başarısız yanıt ErrorMessage string Opsiyonel Yanıt başarısızsa, hata mesajını içerir GetDocumentViewerLink Link üzerinden ilgili belgeye ait Pdf ya da XML indirilmesini sağlayan operasyondur. Firma vergi numarası, ettn, faturanın yönü (gelen/giden) ve doküman tipi (e-fatura/e-arşiv) bilgileri girilmelidir. Tablo 17 GetDocumentViewerLinkRequest Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar CompanyTaxCode string Zorunlu Firma vergi numarası Ettn string Zorunlu Ettn bilgisi InvoiceDirection InvoiceDirection Type Zorunlu Fatura yönü InvoiceDocumentType InvoiceDocument Type Zorunlu E-Fatura ya da E- Arşiv hizmet bilgisi Tablo 18 GetDocumentViewerLinkResponse Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Result ResultType Zorunlu Başarılı/Başarısız yanıt ErrorMessage string Opsiyonel Yanıt başarısızsa, hata mesajını içerir DocumentViewerLink string Zorunlu Sorgulama işlemi sonucu dönen adres ORTAK TİPLER Fatura Senaryoları ve Gönderilmesi Zorunlu Alanlar Fatura tiplerine göre zorunlu gönderilmesi gereken alanları aşağıdaki tablolardan inceleyebilirsiniz. İhraç Kayıtlı Faturalar İhraç Kayıtlı faturalar da gönderilmesi gereken zorunlu alanlar aşağıdaki gibidir. Tablo 19 İhraç Kayıtlı Fatura Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar InvoiceType InvoiceType Zorunlu Fatura tipi “İhraç Kayıtlı” olmalıdır. ExportRegistered ReasonCode string Zorunlu İhraç Kayıtlı Fatura Sebebi Kodu (ExportRegisteredReasonCode) alanı boş bırakılamaz. Özel Matrah Faturalar Özel Matrah faturalar da gönderilmesi gereken zorunlu alanlar aşağıdaki gibidir. Tablo 20 Özel Matrah Faturalar Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar InvoiceType InvoiceType Zorunlu Fatura tipi “Özel Matrah” olmalıdır. SpecialBasisReasonCode string Zorunlu Ürün kalemlerin en az birinde Özel Matrah Nedeni (SpecialBasisReasonCode) alanı dolu olması gerekmektedir. ArchiveInvoice Arşiv gönderimlerinde kullanılan parametler aşağıdaki gibidir. Tablo 21 ArchiveInvoice Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar ArchiveReportNumber string Opsiyonel Arşiv rapor numarası ArchiveCancellation ReportNumber string Opsiyonel Iptal arşiv rapor numarası ExternalArchive InvoiceCode string Zorunlu Kaynak fatura kodu boş olamaz. WebSellingInfo WebSellingInfo Koşullu Zorunlu İnternet Satışı faturalarda zorunlu alanlar. SendMailAutomatically bool Opsiyonel Otomatik mail gönderme InvoiceDate DateTime Zorunlu Fatura tarihi LastPaymentDate DateTime? Opsiyonel Son ödeme tarihi InvoiceType InvoiceType Zorunlu Fatura tipi OrderNumber string Opsiyonel Sipariş no OrderDate DateTime? Opsiyonel Sipariş tarihi DispatchList List&lt;Dispatch&gt; Sevk Numarası ve Tarihi Receiver AddressBookEntry Zorunlu Alıcı firma adresi ReceiverBranchAddress Address Opsiyonel Alıcı firma şube adresi CompanyBranchAddress Address Opsiyonel Gönderici firma adresi TotalLineExtensionAmount decimal Zorunlu Toplam mal hizmet tutarı TotalTaxInclusiveAmount decimal Zorunlu Vergiler dahil toplam tutar TotalDiscountAmount decimal Zorunlu Toplam iskonto tutarı TotalVATAmount decimal Zorunlu Toplam kdv tutarı TotalPayableAmount decimal Zorunlu Toplam ödenecek tutar CurrencyCode string Zorunlu Fatura para birimi CrossRate decimal Opsiyonel Çapraz Kur CrossRateDate DateTime? Opsiyonel Kur Tarihi Notes List&lt;string&gt; Opsiyonel Faturaya ilişkin notlar InvoiceDetails List&lt;Archive InvoiceDetail&gt; Opsiyonel Fatura detayları listesi InvoiceAttachments List&lt;Invoice Attachment&gt; Opsiyonel Fatura ekleri listesi Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar InvoiceXml byte[] Opsiyonel Fatura’nın XML formatındaki hali InvoicePdf byte[] Opsiyonel Fatura’nın PDF formatındaki hali ArchiveInvoice ExternalUrl string Opsiyonel XsltTemplate byte[] Opsiyonel Gönderilen Faturanın görüntülenmek istediği xslt şablonu InvoiceCreationDate DateTime? Opsiyonel Fatura oluşturulma tarihi InvoiceTotalTaxList List&lt;Tax&gt; Opsiyonel Fatura seviyesindeki kdv harici vergiler listesi InvoiceAdditional IdentityInfo InvoiceAdditional IdentityInfo Opsiyonel Faturaya ilişkin ek kimlik bilgilerinin olduğu nesnedir Payment Payment Opsiyonel Faturaya ilişkin ödeme bilgilerinin dönüldüğü nesnedir TaxExemptionReason string Opsiyonel Vergi muafiyet nedeni IsArchived bool Opsiyonel Fatura’nın arşivlenme durumu ArchiveDate DateTime? Opsiyonel Arşivlenme tarihi ApprovalDate DateTime? Opsiyonel Onaylanma tarihi AccountingCost string Opsiyonel Özel Fatura Tipi (SGK faturalarında zorunlu alan) ExportRegistered ReasonCode string Opsiyonel İhraç Kayıtlı Fatura Nedeni Kodu (İhraç Kayıtlı faturalarda zorunlu) ReturnReason string Opsiyonel İade sebebi ReturnInvoiceNumber string Opsiyonel İade kesilecek gelen faturanın fatura numarası ReturnInvoiceDate DateTime? Opsiyonel İlgili faturanın tarihi InstallationNumber string Opsiyonel Alıcı tesisat numarası BankAccountList List&lt;decimal&gt; Opsiyonel Banka hesap listesi InvoiceExpenses List&lt;Invoice Expense&gt; Opsiyonel Fatura masraf bilgileri AdditionalDocumentReferences List&lt; DocumentRefe rence &gt; Opsiyonel Faturaya eklenecek ek bilgiler listesi ArchiveInvoiceXml Tablo 22 ArchiveInvoiceXml Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar ArchiveInvoiceContent byte[] Zorunlu Gönderilmek istenen faturaların listesi SendMailAutomatically bool Opsiyonel Otomatik mail gönder. ArchiveInvoiceReturn Tablo 23 ArchiveInvoiceReturn Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar ExternalArchiveInvoiceCode string Zorunlu Kaynak sistem fatura kodu ArchiveInvoiceNumber string Zorunlu Arşiv fatura numarası Ettn string Zorunlu Ettn ArchiveInvoiceCancellation Tablo 24 ArchiveInvoiceCancellation Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Ettn string Zorunlu Ettn CancellationReason string Opsiyonel İptal nedeni Product Ürün kalemleri için detaylandırılan alanlar . Tablo 25 Ürün Tipi Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar ExternalProductCode string Zorunlu Ürün kaynak kod numarası ProductName string Zorunlu Ürün adı MeasureUnit MeasureUnitType Zorunlu Ölçü Birimi UnitPrice decimal Zorunlu Birim Fiyat ProductCode string Opsiyonel Ürün Kodu ReceiverProductCode string Opsiyonel DmoProductCode string Koşullu Zorunlu DMO ‘ya kesilen faturalarda zorunlu DmoBarcode string Koşullu Zorunlu DMO faturalarında Barkod yalnızca Sağlık Marketleri için zorunlu alandır. ArchiveInvoiceDetail ArchiveInvoiceDetail alanı fatura içindeki ürün kalemlerinin her biri için detaylandırılan alandır. Tablo 26 ArchiveInvoiceDetail Alan Tanımları Tablosu Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Product Product Zorunlu Ürün bilgisi CurrencyCode string Zorunlu Fatura para birimi Quantity decimal Zorunlu Ürün adedi Discountrate decimal? Opsiyonel İndirim oranı DiscountAmount decimal? Opsiyonel İndirim tutarı VatRate decimal? Opsiyonel Kdv oranı VatAmount decimal? Opsiyonel Kdv tutarı LineExtensionAmount decimal Opsiyonel Mal hizmet tutarı TaxExemptionReason string Opsiyonel Vergi muafiyet nedeni AdditionalTaxes List&lt;Tax&gt; Opsiyonel Ek vergi listesi WitholdingTaxes List&lt;Tax&gt; Opsiyonel Tevkifat vergileri Alan Adı Veri Tipi Zorunlu/Opsiyonel Açıklamalar Note string Opsiyonel Not StockDescription string Opsiyonel Stok Açıklaması TaxExemptionReasonCode string Opsiyonel Vergi İstisna Muafiyet Sebebi Kodu SpecialBasisReasonCode string Opsiyonel Özel Matrah Nedeni Kodu SpecialBasisAmount decimal Opsiyonel Özel Matrah Tutarı SpecialBasisPercent decimal Opsiyonel Özel Matrah Yüzdesi SpecialBasisTaxAmount decimal Opsiyonel Özel Matrah Vergi Tutarı TagNumber string Opsiyonel Künye No OwnerName string Opsiyonel Mal Sahibi Ad Soyad OwnerIdentificationNumber string Opsiyonel Mal Sahibi VKN/TC No SendingTyp e Tablo 27 SendingType Alan Tanımları Tablosu Açıklamalar Değerler None 0 Elektronik 1 Kagit 2 1380767 55041 PaginationInfoRequest Tablo 28 Pagination Info Request Alan Tanımları Tablosu Açıklamalar Veri Tipi PageNumber int RecordsPerPage int 1380767 86444 InvoiceDocumentType Tablo 29 Invoice Document Type Alan Tanımları Tablosu Açıklamalar Değerler EInvoice 1 EArchiveInvoice 2 1380767 55190 InvoiceTyp e Tablo 30 Invoice Type Alan Tanımları Tablosu Açıklamalar Değerler None 0 Satis 1 Iade 2 Istisna 3 Tevkifat 4 OzelMatrah 5 IhracKayitli 6 Sgk 7 Komisyoncu 8 TevkifatIade 9 1380767 86444 InvoiceResultSet Tablo 31 Invoice Result Set Alan Tanımları Tablosu Açıklamalar Veri Tipi IsInvoiceDetailIncluded bool IsAdditionalTaxIncluded bool IsXMLIncluded bool IsPDFIncluded bool IsArchiveIncluded bool IsAttachmentIncluded bool IsHtmlIncluded bool IsExternalUrlIncluded bool 1380767 55485 InvoiceAttachment Tablo 32 Invoice Attachment Alan Tanımları tablosu Açıklamalar Değerler FileName string FileContent byte[] 1380767 54977 AddressBookEntry Tablo 33 Address Book Entry Alan Tanımları Tablosu Açıklamalar Veri Tipi ExternalReceiverCode String (opsiyonel) ReceiverTaxCode string ReceiverName string VendorNumber string InstallationNumber String (opsiyonel) Address Address RecipientType RecipientType SendingType SendingType 1380767 86444 Dispatch Tablo 34 Dispatch Alan Tanımları Tablosu Açıklamalar Veri Tipi DispatchNumber string DispatchDate DateTime 1380767 55422 RecipientTyp e Tablo 35 Recipient Type Alan Tanımları Tablosu Açıklamalar Değerler None 0 Efatura 1 Earsiv 2 Eirsaliye 3 Eirsaliyemukellefolmayan 4 Edoviz 5 1380767 54787 Addres s Tablo 36 Address Alan Tanımları Tablosu Açıklamalar Veri Tipi BoulevardAveneuStreetName string BuildingNumber string BuildingName string CityCode decimal CityName string TownCode decimal TownName string TaxOfficeCode decimal TaxOfficeName string PostalCode decimal Açıklamalar Veri Tipi TelephoneNumber string FaxNumber string WebSite string Email string 1380767 55721 DocumentReference Tablo 37 DocumentReference Alan Tanımları Tablosu Açıklamalar Veri Tipi IssueDate DateTime DocumentTypeCode string DocumentType string DocumentDescription string DocumentReferenceId string 1380767 55104 ResultTyp e Tablo 38 ResultType Alan Tanımları Tablosu Açıklamalar Değerler Success 0 Failed 1 1380767 54977 InvoiceExpense Tablo 39 InvoiceExpense Alan Tanımları Tablosu Açıklamalar Veri Tipi Type ExpenseType DeductionRatio decimal DeductionPrice decimal TaxRatio decimal TaxPrice decimal 1380767 86444 ExpenseTyp e Tablo 40 ExpenseType Alan Tanımları Tablosu Açıklamalar Veri Tipi Komisyon 1 Navlun 2 Hammaliye 3 Gelir_Vergisi_Tevkifati 4 Bagkur_Tevkifati 5 Hal_Rusumu 6 Tic_Borsası 7 Milli_Savunma_Fonu 8 Diger_Masraflar 9 Nakliye 10 1380767 55092 PaginationInfoResponse Tablo 41 PaginationInfoResponse Alan Tanımları Tablosu Açıklamalar Veri Tipi PageNumber int RecordsPerPage int TotalNumberOfPages int TotalNumberOfRecords int 1380767 86444 Ta x Tablo 42 Tax Alan Tanımları Tablosu Açıklamalar Veri Tipi TaxCode string TaxRate decimal TaxAmount decimal 1380767 55358 Payment Tablo 43 Payment Alan Tanımları Tablosu Açıklamalar Veri Tipi InvoiceETTN string PaymentAccount Account PaymentDate DateTime PaymentChannel PaymentChannel PaymentChannelCode string 1380767 54723 Account Tablo 44 Account Alan Tanımları Tablosu Açıklamalar Veri Tipi BranchCode int Number string Iban string 1380767 54788 PaymentChannel Tablo 45 PaymentChannel Alan Tanımları Tablosu Açıklamalar Veri Tipi NONE 0 CommercialBanking 1 1380767 86444 WebSellingInfo Tablo 46 WebSellingInfo Alan Tanımları Tablosu Açıklamalar Veri Tipi WebAddress int PaymentType PaymentType OtherPaymentType string PaymentMediatorName string PaymentDate DateTime SendingDate DateTime Carrier Carrier 1380767 55485 PaymentType Tablo 47 PaymentType Alan Tanımları Tablosu Açıklamalar Veri Tipi NONE 0 KREDIKARTI_BANKAKARTI 1 EFT_HAVALE 2 KAPIDA_ODEME 3 ODEME_ARACISI 4 DIGER 5 1380767 54723 Carrier Tablo 48 Carrier Alan Tanımları Tablosu Açıklamalar Veri Tipi VknTckn string CarrierName string CarrierId int 1380767 86444 ArchiveInvoiceStatus Tablo 49 ArchiveInvoiceStatus Alan Tanımları Tablosu Açıklamalar Veri Tipi Fatura_Hazirlaniyor 1 Fatura_Imzalaniyor 2 Pdf_Hazirlaniyor 3 Pdf_Imzalaniyor 4 Fatura_Olusturuldu 5 Silindi 6 1380767 55104 ArchiveInvoiceApprovalStatus Tablo 50 ArchiveInvoiceApprovalStatus Alan Tanımları Tablosu Açıklamalar Veri Tipi Onay_Bekliyor 0 Onaylandi 1 Reddedildi 2 Onay_Akisinda 3 1380767 54977 ArchiveInvoiceSendingStatus Tablo 51 ArchiveInvoiceSendingStatus Alan Tanımları Tablosu Açıklamalar Veri Tipi Musteriye_Gonderilmedi 1 Musteriye_Gonderiliyor 2 Musteriye_Gonderildi 3 Musteriye_Gonderilirken_Hata_Olustu 4 1380767 86444 ArchiveInvoiceReportSendingStatus Tablo 52 ArchiveInvoiceReportSendingStatus Alan Tanımları Tablosu Açıklamalar Veri Tipi Gibe_Gonderilmek_Icin_Bekliyor 1 Gibe_Gonderiliyor 2 Gibe_Gonderildi 3 Gibe_Gonderilirken_Sistem_Hatasi_Olustu 4 Gib_Tarafinda_Hata_Olustu 5 Gib_Raporu_Kabul_Etti 6 1380767 55104 CanceledArchiveInvoiceReportSendingStatus Tablo 53 CanceledArchiveInvoiceReportSendingStatus Alan Tanımları Tablosu Açıklamalar Veri Tipi Iptal_Edilmedi 0 Gibe_Gonderilmek_Icin_Bekliyor 1 Gibe_Gonderiliyor 2 Gibe_Gonderildi 3 Gibe_Gonderilirken_Sistem_Hatasi_Olustu 4 Gib_Tarafinda_Hata_Olustu 5 Gib_Raporu_Kabul_Etti 6 1380767 54723 ArchiveInvoiceReport Tablo 54 ArchiveInvoiceReport Alan Tanımları Tablosu Açıklamalar Veri Tipi ArchiveInvoiceReportNumber string ArchiveInvoiceReportGroupNumber string Status ArchiveInvoiceReportStatus InvoiceEttnList List&lt;string&gt; 1380767 86444 ArchiveInvoiceReportStatus Tablo 55 ArchiveInvoiceReportStatus Alan Tanımları Tablosu Açıklamalar Veri Tipi Rapor_Xml_Olusturuluyor 1 Rapor_Xml_Imzalaniyor 2 Rapor_Zipleniyor 3 Rapor_Gibe_Gonderiliyor 4 Rapor_Gibe_Gonderildi 5 Gib_Raporu_Kabul_Etti 6 Gib_Tarafinda_Hata_Olustu 7 
